var myApp;(()=>{var e={307:(e,t,l)=>{"use strict";l.r(t)}},t={};function l(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,l),r.exports}l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};(()=>{l(307);const e=e=>{let t,l,a,i=1,d=["","A","B","C","D","E","F","G","H","I","J"],s=0;let c=[];const p=(e,t,l)=>{c.push(((e,t,l)=>{let n=[],o=[];if("player1"===l)n=e,o=t;else{for(let t=0;e.length>t;t++)n.push(`p2${e[t]}`);for(let e=0;t.length>e;e++)o.push(`p2${t[e]}`)}for(let t=0;n.length>t;t++){let n;"AI"===l?n=document.getElementById(`p2${e[t]}`):(n=document.getElementById(e[t]),n.style.backgroundColor="green")}return{shipCoor:n,hit:[],sunk:!1,sunkBl:o}})(e,t,l))};let y=[],m=[];let h=(()=>{let e=[];for(let t=1;101>t;t++)e.push(t);return e})(),u=e=>{for(let t=0;e.length>t;t++){let l=h.filter((l=>l!=e[t]));h=l}};return{resetBoard:()=>{s=0,c.splice(0),h=(()=>{let e=[];for(let t=1;101>t;t++)e.push(t);return e})(),h.forEach((t=>{let l;l="player1"===e?document.getElementById(t):document.getElementById(`p2${t}`),l.innerHTML="",l.style.backgroundColor="",l.style.position="",l.style.overflow=""}))},allCoo:h,createShip:p,receiveAttack:(t,l=c)=>{m.push(t);let a=!1;const i=e=>{let t=getComputedStyle(document.querySelector(":root")).getPropertyValue("--box-size"),l=Number(t.slice(0,t.length-2))/10+"px",n=0;e.forEach((e=>{setTimeout((()=>{let t=document.getElementById(e);const n=document.createElement("img");n.style.height=l,n.style.width=l,n.src="fire.gif",n.style.position="absolute",t.appendChild(n),t.style.overflow="hidden",t.style.backgroundColor="green"}),n),n+=200}))};"player1"===e?n.addPlayer.player1Board.sunkSome=!1:o.addPlayer.player2Board.sunkSome=!1;let d=l=>{if(!1===l.sunk){for(let r=0;l.shipCoor.length>r;r++)if(l.shipCoor[r]==t&&(l.hit.push(t),a=!0),l.hit.length===l.shipCoor.length){l.sunk=!0,i(l.shipCoor),"player1"===e?n.addPlayer.player1Board.sunkSome=l.shipCoor.length:o.addPlayer.player2Board.sunkSome=l.shipCoor.length;for(let e=0;l.sunkBl.length>e;e++){let t=document.getElementById(l.sunkBl[e]);if(!t.hasChildNodes()){let e=document.createElement("p");t.appendChild(e),e.style.position="absolute",e.innerHTML="&#9679;"}}}l.hit.length===l.shipCoor.length&&(r.removeAICoo(l.sunkBl),s+=1,10===s&&(document.getElementById("victory-msg").style.display="block",r.gameOver(e)))}};for(let e=0;c.length>e;e++)d(c[e]);if(!1===a)return y.push(t),"player1"===e?n.addPlayer.player1Board.hit=!1:o.addPlayer.player2Board.hit=!1,"missed";"player1"===e?n.addPlayer.player1Board.hit=!0:o.addPlayer.player2Board.hit=!0},ships:c,missedAttack:y,screenBoard:()=>{"player1"===e?(t=document.getElementById("place-board"),l=document.getElementById("coor-let"),a=document.getElementById("coor-num")):"player2"!==e&&"AI"!==e||(t=document.getElementById("place-board2"),l=document.getElementById("coor-let2"),a=document.getElementById("coor-num2")),t.style.gridTemplateColumns="repeat(10, auto)";for(let l=1;l<=100;l++){let n=t.appendChild(document.createElement("div"));n.id,"player2"===e||"AI"===e?n.id=`p2${l}`:"player1"===e&&(n.id=l),n.className="square",n.style.border="thin solid black"}l.style.gridTemplateColumns="repeat(10, 1fr)",a.style.gridTemplateRows="repeat(10, 1fr)";for(let e=1;e<=10;e++){let t=a.appendChild(document.createElement("div"));t.style.fontFamily="Silkscreen, Alkalami, serif";let n=l.appendChild(document.createElement("div"));n.style.fontFamily="Silkscreen, Alkalami, serif",t.innerHTML=i,n.innerHTML=d[e],i+=1}},shipPlace:(t,l,r,a,i,d)=>{let s=l;const c=(()=>{if(r)return r;if(l){let e;return e=l.length>1?l[1]-l[0]:1,1===e?"horizontal":"vertical"}return 0===Math.round(Math.random())?"vertical":"horizontal"})(),y=e=>{let l=e;if(!e){let e=h[Math.round(Math.random()*h.length)];if(l=[e],"horizontal"===c)for(let n=1;t>n;n++)l.push(e+n);else if("vertical"===c)for(let n=1;t>n;n++)l.push(e+10*n)}let n=[];(()=>{for(let e=0;t>e;e++){let t=h.filter((t=>t==l[e]));t.length>0&&n.push(t[0])}(n.length===t&&n[0]<=10&&"horizontal"===c&&n[n.length-1]>10||n.length===t&&n[0]>10&&"horizontal"===c&&(n[0]-1).toString()[0]!=(n[n.length-1]-1).toString()[0])&&(n=[])})();return n.length===t?n:y()};let m=y(s);const g=(()=>{let t=[];if("horizontal"===c)for(let e=0;m.length>e;e++){let l=Number(m[e].toString()[m[e].toString().length-1]);if(0===e){if(1!==l){let l=m[e]-1,n=m[e]+9,o=m[e]-11;t.push(l,n,o)}let n=m[e]-10,o=m[e]+10;if(1===m.length&&0!==l){let l=m[e]-9,n=m[e]+1,o=m[e]+11;t.push(l,n,o)}t.push(n,o)}else if(e===m.length-1){if(0!==l){let l=m[e]+1,n=m[e]+11,o=m[e]-9;t.push(l,o,n)}let n=m[e]-10,o=m[e]+10;t.push(n,o)}else if(e>0){let l=m[e]-10,n=m[e]+10;t.push(l,n)}}else if("vertical"===c)for(let e=0;m.length>e;e++){let l=Number(m[e].toString()[m[e].toString().length-1]);if(0===e){if(1!==l){let l=m[e]-11,n=m[e]-1;t.push(n,l)}if(0!==l){let l=m[e]-9,n=m[e]+1;t.push(n,l)}let n=m[e]-10;if(1===m.length){if(1!==l){let l=m[e]+9;t.push(l)}if(0!==l){let l=m[e]+11;t.push(l)}let n=m[e]+10;t.push(n)}t.push(n)}else if(e===m.length-1){if(1!==l){let l=m[e]+9,n=m[e]-1;t.push(n,l)}if(0!==l){let l=m[e]+1,n=m[e]+11;t.push(l,n)}let n=m[e]+10;t.push(n)}else if(e>0){if(1!==l){let l=m[e]-1;t.push(l)}if(0!==l){let l=m[e]+1;t.push(l)}}}let l=t.filter((e=>e>0&&e<101));return a&&l.forEach((t=>{let l=document.createElement("p");l.style.position="absolute",l.innerHTML="&#9679;","player1"===e?document.getElementById(t).appendChild(l):"player2"!==e&&"AI"!==e||document.getElementById(`p2${t}`).appendChild(l)})),"test"!=a&&u(l),l})();if(!a){p(m,g,e)}"test"!=a&&u(m),"player1"===d?n.placeShips.coordinates[i].blocks=g:"player2"!==d&&"AI"!=d||(o.placeShips.coordinates[i].blocks=g)},hit:undefined,shots:m,sunkSome:!1}},t=t=>{let l,a,i=t,d="player1"===i?"player2":"player1";const s=(()=>{if("player1"===i){l=e(i);l.screenBoard();result=l}else{a=e(i);a.screenBoard();result=a}return{player1Board:l,player2Board:a}})();const c=()=>{let e,t,d=(()=>{result=[];for(let e=1;e<101;e++)result.push(e);return result})(),s=(()=>{result=[];for(let e=1;e<101;e++)result.push(`p2${e}`);return result})();"player1"===i?(e=l,t=d):(e=a,t=s);let c=t=>{const l=(e,t)=>{const l={duration:500,iterations:1},n=[{fontSize:"0"},{fontSize:"350%"}];e.animate([{opacity:"0"},{opacity:"1"}],l),t&&e.animate(n,l)};if(!t.hasChildNodes()){let n=e.receiveAttack(t.id),o=document.createElement("p");t.appendChild(o),o.style.position="absolute","missed"===n&&o?(o.innerHTML="&#x2716;",l(o)):(o.innerHTML="&#x274C;",o.style.fontSize="150%",l(o,!0)),"player1"===i&&r.removeAICoo([t.id])}r.turnPl()};return t.forEach((e=>{let t=document.getElementById(e);t.addEventListener("click",(()=>{let e;e="player1"===i?n.mode:o.mode,"war"!==e||t.hasChildNodes()||c(t)}))})),{markShot:c}};c();const p=(()=>{if("player1"===i){const e=[4,3,2,1],t=document.getElementById("place-ships");t.style.gridTemplateRows="repeat(4)";let n,o,r={container1:1,container2:2,container3:3,container4:4},d=[];for(let l=1;l<=4;l++){n=t.appendChild(document.createElement("div")),n.id=`choice${[l]}`,n.className="shipChoice",n.style.gridTemplateColumns=`repeat(${[l]}`;let a=n.appendChild(document.createElement("div"));d.push(a),a.id=`container${l}`,a.className=`container${l}`,o=document.getElementById(`choice${l}`).appendChild(document.createElement("p")),o.id=`text${l}`,o.style.fontFamily="Silkscreen, Alkalami, serif",o.innerHTML=` ✕ ${r[`container${l}`]}`,a.style.display="flex";for(let t=1;t<=e[l-1];t++){let e=a.appendChild(document.createElement("div"));e.style.border="thin solid black",e.className=`shipChoiceSQ  shipClass${l}`}}let s,c,p,y=e=>{let t=document.getElementById(`text${e}`);num=(()=>{let t=Number(r[`container${e}`]);return t>0?t:0})(),t.innerHTML=`✕  ${num}`},m=document.querySelectorAll(".square"),h=[],u=!1,g={},f=[],E=[],B={container1:0,container2:0,container3:0,container4:0},b=!1,I="horizontal",v=!0;const k=()=>{for(let e=0;Object.keys(g).length>e;e++)g[Object.keys(g)[e]].blocks=[];u=!1,b=!1,v=!0,I="horizontal",r={container1:1,container2:2,container3:3,container4:4},h=[],f=[],E=[],B={container1:0,container2:0,container3:0,container4:0}};let S=()=>h[0][0].toString().split("")[h[0][0].toString().split("").length-1],N=()=>h[0][h[0].length-1].toString().split("")[h[0][h[0].length-1].toString().split("").length-1];const P=e=>{s=e.className,p=e.id,e.id[10]||(b=!0),I="horizontal"};d.forEach((e=>{e.draggable="true",e.addEventListener("dragstart",(()=>{P(e)})),e.addEventListener("dragend",(()=>{m.forEach((e=>{e.className="square"})),v=!0}))}));const C=()=>{let e=Object.keys(g).length;for(let t=0;e>t;t++){g[Object.keys(g)[t]].blocks.forEach((e=>{if(""===document.getElementById(e).innerHTML&&Object.keys(g)[t]!=p){let t=document.createElement("p");t.style.position="absolute",t.innerHTML="&#9679;",document.getElementById(e).appendChild(t),f.push(e)}}))}},L=t=>{t.addEventListener("dragstart",(()=>{s=t.className,p=t.id,I=g[t.id].position;let e=g[p].coo,l=g[p].blocks;e.forEach((e=>{for(let t=0;f.length>t;t++)e===f[t]&&f.splice(t,1)})),l.forEach((e=>{for(let t=0;f.length>t;t++)if(e===f[t]){f.splice(t,1),document.getElementById(e).innerHTML=""}})),C()})),t.addEventListener("dragend",(()=>{m.forEach((e=>{e.className="square"})),!0===v&&(g[p].coo.forEach((e=>{f.push(e)})),g[p].blocks.forEach((e=>{let t=document.createElement("p");t.style.position="absolute",t.innerHTML="&#9679;",document.getElementById(e).appendChild(t),f.push(e)}))),v=!0})),t.addEventListener("click",(()=>{let n=!0;if(p=t.id,"flex"===t.style.display){let o=g[t.id].coo.length,r=[];for(let e=0;e<o;e++){let l=g[t.id].coo[0]+10*e;l>0&&l<101&&r.push(l)}let d,s=g[t.id].coo,c=g[t.id].blocks;s.forEach((e=>{for(let t=0;f.length>t;t++)e===f[t]&&f.splice(t,1)})),c.forEach((e=>{for(let t=0;f.length>t;t++){e===f[t]&&f.splice(t,1),document.getElementById(e).innerHTML=""}})),C();for(let e=0;r.length>e;e++)f.forEach((t=>{r[e]===t&&(n=!1)}));d="player1"===i?l:a,r.length===o&&!0===n?(g[t.id].coo=r,I="vertical",g[t.id].position=I,t.style.display="grid",c.forEach((e=>{document.getElementById(e).innerHTML=""})),d.shipPlace(e[Number(t.id[9]-1)],r,"vertical","test",t.id,i),g[t.id].blocks.forEach((e=>{f.push(e)})),r.forEach((e=>{f.push(e)})),C()):(c.forEach((e=>{let t=document.getElementById(e);if(f.push(e),""===t.innerHTML){let e=document.createElement("p");e.style.position="absolute",e.innerHTML="&#9679;",t.appendChild(e)}})),s.forEach((e=>{f.push(e)})))}else if("grid"===t.style.display){s=t.id;let n=!0,o=g[t.id].coo.length,r=[];for(let e=0;e<o;e++){let l=g[t.id].coo[0]+e;l>0&&l<101&&r.push(l)}let d=g[t.id].coo,c=g[t.id].blocks;d.forEach((e=>{for(let t=0;f.length>t;t++)e===f[t]&&f.splice(t,1)})),c.forEach((e=>{for(let t=0;f.length>t;t++)e===f[t]&&f.splice(t,1);document.getElementById(e).innerHTML=""})),C();for(let e=0;r.length>e;e++)f.forEach((t=>{r[e]===t&&(n=!1)}));const p=()=>{let n;n="player1"===i?l:a,g[t.id].coo=r,I="horizontal",g[t.id].position=I,t.style.display="flex",c.forEach((e=>{document.getElementById(e).innerHTML=""})),n.shipPlace(e[Number(t.id[9]-1)],r,"horizontal","test",t.id,i),g[t.id].blocks.forEach((e=>{f.push(e)})),r.forEach((e=>{f.push(e)})),C()};r.length===o&&(r[0]-1).toString()[1]<=10-e[s[9]-1]&&!0===n||r[0]<10&&r.length===o&&(r[0]-1).toString()[0]<=10-e[s[9]-1]&&!0===n?p():(c.forEach((e=>{let t=document.getElementById(e);if(f.push(e),""===t.innerHTML){let e=document.createElement("p");e.style.position="absolute",e.innerHTML="&#9679;",t.appendChild(e)}})),d.forEach((e=>{f.push(e)})))}}))};return m.forEach((t=>{t.addEventListener("dragover",(e=>{e.preventDefault()}));t.addEventListener("dragenter",(e=>{e.preventDefault(),(e=>{c=e.id,"horizontal"===I?"container1"===s?h.push([Number(e.id)-2,Number(e.id)-1,Number(e.id),Number(e.id)+1].filter((e=>e>0&&e<101))):"container2"===s?h.push([Number(e.id)-1,Number(e.id),Number(e.id)+1].filter((e=>e>0&&e<101))):"container3"===s?h.push([Number(e.id)-1,Number(e.id)].filter((e=>e>0&&e<101))):"container4"===s&&h.push([Number(e.id)].filter((e=>e>0&&e<101))):"vertical"===I&&("container1"===s?h.push([Number(e.id)-20,Number(e.id)-10,Number(e.id),Number(e.id)+10].filter((e=>e>0&&e<101))):"container2"===s?h.push([Number(e.id)-10,Number(e.id),Number(e.id)+10].filter((e=>e>0&&e<101))):"container3"===s?h.push([Number(e.id)-10,Number(e.id)].filter((e=>e>0&&e<101))):"container4"===s&&h.push([Number(e.id)].filter((e=>e>0&&e<101)))),n()})(t)}));const n=()=>{for(let e=0;h.length-1>e;e++)h[e].forEach((e=>{document.getElementById(Number(e)).className="square"})),h.shift()};t.addEventListener("dragleave",(t=>{const l=()=>{u=!0,h.forEach((e=>{e.forEach((e=>{document.getElementById(e).className+=" hoveredSq"}))}))};"horizontal"===I?0!=S()&&9!=S()&&1!=N()&&2!=N()&&h[0][0]>0&&(h[0].length>=4||"container2"==s)||0!=S()&&1!=N()&&"container3"==s||"container4"==s?l():(h.forEach((e=>{e.forEach((e=>{document.getElementById(e).className="square"}))})),u=!1):"vertical"===I&&h[0].length==e[s[9]-1]?l():u=!1}));t.addEventListener("drop",(n=>{n.preventDefault(),(t=>{let n,o,d,c=[];if("container1"===s?(n=-2,o=2):"container2"===s?(n=-1,o=2):"container3"===s?(n=-1,o=1):"container4"===s&&(n=0,o=1),"horizontal"===I)for(let e=n;e<o;e++)c.push(Number(t.id)+Number([e]));else if("vertical"===I)for(let e=n;e<o;e++)c.push(Number(t.id)+10*Number([e]));if(c.forEach((e=>{for(let t=0;f.length>t;t++)e===f[t]&&(u=!1)})),!0===u&&c.forEach((e=>{f.push(e)})),0!=u){v=!1;const n=()=>{let e=document.getElementById(s);clone=e.cloneNode(!0),"container1"===s?(clone.id=`${e.id}-${B.container1}`,clone.className="container1",B.container1+=1,s="container1",p=clone.id,E.push(clone)):"container2"===s?(clone.id=`${e.id}-${B.container2}`,clone.className="container2",B.container2+=1,s="container2",p=clone.id,E.push(clone)):"container3"===s?(clone.id=`${e.id}-${B.container3}`,clone.className="container3",B.container3+=1,s="container3",p=clone.id,E.push(clone)):"container4"===s&&(clone.id=`${e.id}-${B.container4}`,clone.className="container4",B.container4+=1,s="container4",p=clone.id,E.push(clone))};!0===b&&((B.container1<1&&"container1"===s||B.container2<2&&"container2"===s||B.container3<3&&"container3"===s||B.container4<4&&"container4"===s)&&n(),r[s]-=1,y(s[9]),r[s]<=0&&(document.getElementById(s).draggable=!1)),(()=>{let e=0;if(Object.keys(r).forEach((t=>{r[t]<=0&&(e+=1)})),4===e){let e=document.getElementById("start-button"),t=document.getElementById("next-player");e.disabled=!1,e.style.opacity="1",t.disabled=!1,t.style.opacity="1"}})(),!0===b?(L(E[E.length-1]),d=clone):d=document.getElementById(p),d.style.position="absolute",d.style.zIndex="9";let o,m=d.id;"horizontal"===I?"container1"===s?document.getElementById(t.id-2).append(d):"container2"===s||"container3"==s?document.getElementById(t.id-1).append(d):"container4"===s&&document.getElementById(t.id).append(d):"vertical"===I&&("container1"===s?document.getElementById(Number(t.id)-20).append(d):"container2"===s||"container3"===s?document.getElementById(Number(t.id)-10).append(d):"container4"===s&&document.getElementById(Number(t.id)).append(d)),!0===b&&(g[m]={},g[m].position="horizontal"),g[m].coo=c,o="player1"===i?l:a,o.shipPlace(e[Number(s[9]-1)],c,g[m].position,"test",m,i),g[m].blocks.forEach((e=>{f.push(e)})),b=!1}})(t)}))})),{coordinates:g,resetPlayer:k}}})();return{title:i,enemy:d,randomShipPlacement:()=>{let e;e="player1"===i?l:a;for(let t=1;11>t;t++)t<2?e.shipPlace(4):t<4?e.shipPlace(3):t<7?e.shipPlace(2):t<11&&e.shipPlace(1)},addPlayer:s,placeShips:p,mode:"peace",shoot:c}};let n,o;const r=(()=>{let e,l,a=!1,i="player1",d=!1,s=!0,c=document.getElementById("next-pl-msg");const p=()=>{n=t("player1")},y=document.getElementById("PVC"),m=document.getElementById("PVP"),h=document.getElementById("front-page"),u=document.getElementById("return-button"),g=document.getElementById("random-button"),f=document.getElementById("clear-button"),E=document.getElementById("start-button");E.disabled=!0;const B=document.getElementById("next-player");B.disabled=!0;const b=document.getElementById("returnMenuB"),I=document.getElementById("PVC-easy"),v=document.getElementById("PVC-hard"),k=document.getElementById("place-the-ships"),S=()=>{for(let e=1;e<=4;e++){document.getElementById(`text${e}`).innerHTML=`✕  ${e}`,document.getElementById(`container${e}`).draggable=!0}},N=e=>{e?(n.addPlayer.player1Board.resetBoard(),o.addPlayer.player2Board.resetBoard()):"player2"===i?o.addPlayer.player2Board.resetBoard():"player1"===i&&n.addPlayer.player1Board.resetBoard()},P=()=>{"player1"===i?n.randomShipPlacement():"player2"===i&&o.randomShipPlacement()},C=e=>{e?n.placeShips.resetPlayer():"player2"!==i||e||!1!==d?"player1"!==i||e||n.placeShips.resetPlayer():o.placeShips.resetPlayer()},L=(e,t)=>{let l,r,a="player1"===e?(l=n.addPlayer.player1Board,n):(l=o.addPlayer.player2Board,o);if(t?10!==t.length&&void 0!==t.length||(r=t):r=a.placeShips.coordinates,t&&void 0!==t.length){if(10===t.length)for(let e=0;r.length>e;e++)l.shipPlace(r[e].length,r[e])}else for(let e=0;Object.keys(r).length>e;e++){let t=r[Object.keys(r)[e]],n=t.position,o=t.coo,a=o.length;l.shipPlace(a,o,n)}T(l)},T=t=>{e.forEach((e=>{let t=document.getElementById(e);if(t.hasChildNodes()){let e=t.children.length;for(let l=0;e>l;l++)t.removeChild(t.children[0])}}))},M=(e,t,l,n)=>{let o;l&&(o=document.getElementById(l),o.style.display="none");const r=[{opacity:"1"},{opacity:"0"}],a=[{opacity:"0"},{opacity:"1"}],i=document.getElementById(e),d={duration:1e3,iterations:1};let s;t&&(s=document.getElementById(t),s.style.display="grid",s.animate(a,d)),""!=e&&i.animate(r,d),setTimeout((()=>{n&&(s.style.position="relative"),""!=e&&(i.style.display="none"),l&&(o.style.display="")}),"990")},H=e=>{let t=n.addPlayer.player1Board.ships;for(let l=0;t.length>l;l++)e.push(t[l].shipCoor)};y.addEventListener("click",(()=>{document.querySelectorAll(".game-mode").forEach((e=>{e.style.display="none"})),document.querySelectorAll(".pvc-mode").forEach((e=>{e.style.display="block"})),k.style.visibility="visible"})),I.addEventListener("click",(()=>{n||p(),d=!0,i="player1",M("front-page"),x="easy"})),v.addEventListener("click",(()=>{n||p(),d=!0,i="player1",M("front-page"),x="hard"}));let $=document.getElementById("player-name-wrapper");m.addEventListener("click",(()=>{n||p(),i="player1",M("front-page"),$.style.display="flex",$.innerHTML=`${i} Setup`,E.style.display="none",B.style.display="block",k.style.visibility="visible"})),u.addEventListener("click",(()=>{h.style.display="",N(),C(),S(),s=!0,E.disabled=!0,E.style.opacity="0.2",B.disabled=!0,B.style.opacity="0.2",document.querySelectorAll(".game-mode").forEach((e=>{e.style.display="block"})),document.querySelectorAll(".pvc-mode").forEach((e=>{e.style.display="none"})),$.style.display="none"})),g.addEventListener("click",(()=>{N(),(()=>{for(let e=1;e<=4;e++)document.getElementById(`text${e}`).innerHTML="✕  0",document.getElementById(`container${e}`).draggable=!1})(),P(),s=!1,E.disabled=!1,E.style.opacity="1",B.disabled=!1,B.style.opacity="1"})),f.addEventListener("click",(()=>{N(),S(),C(),s=!0,E.disabled=!0,E.style.opacity="0.2",B.disabled=!0,B.style.opacity="0.2"})),E.addEventListener("click",(()=>{if(i="player2",!0===d&&(o||(o=t("AI"),e=n.addPlayer.player1Board.allCoo),P()),!1===d){o||(o=t("player2"),e=n.addPlayer.player1Board.allCoo),!0===s?w=n.placeShips.coordinates:H(w),N("GO"),L("player1",A),L("player2",w),document.querySelectorAll(".square").forEach((e=>{e.style.backgroundColor="white"})),document.getElementById("place-the-ships").style.height="100vh",document.getElementById("place-the-ships").style.alignContent="center"}o.mode="war",n.mode="peace",i="player1",a=!0,!0===s&&!0===d&&L("player1"),!0===d&&(M("ships-and-navigation","board-w-coor2","",!0),document.getElementById("board-w-coor").animate([{opacity:"1"},{opacity:"0.5"}],1e3),document.getElementById("board-w-coor").style.opacity="0.5"),!1===d&&(document.getElementById("ships-and-navigation").style.display="none",document.getElementById("board-w-coor").style.display="none",document.getElementById("board-w-coor2").style.display="grid",document.getElementById("board-w-coor2").style.position="static",$.innerHTML="Player1 SHOOT!")}));let A=[],w=[];B.addEventListener("click",(()=>{i="player1",!0===s?A=JSON.parse(JSON.stringify(n.placeShips.coordinates)):H(A),S(),N(),C(),$.innerHTML="Player2 Setup",E.style.display="block",E.disabled=!0,E.style.opacity="0.2",B.style.display="none",s=!0})),b.addEventListener("click",(()=>{d=!1,h.style.display="",N("GO"),C("GO"),S(),s=!0,E.disabled=!0,E.style.opacity="0.2",B.disabled=!0,B.style.opacity="0.2",document.getElementById("ships-and-navigation").style.display="flex",document.getElementById("board-w-coor2").style.display="none",document.getElementById("board-w-coor").style.opacity="1",document.getElementById("board-w-coor").style.display="grid",document.getElementById("board-w-coor2").style.position="absolute",e=(()=>{let e=[];for(let t=1;101>t;t++)e.push(t);return r.allCoo=e,e})(),M("victory-msg","front-page","user-ship-placement"),h.style.display="",G(),document.getElementById("place-the-ships").style.height="100%",document.querySelectorAll(".game-mode").forEach((e=>{e.style.display="block"})),document.querySelectorAll(".pvc-mode").forEach((e=>{e.style.display="none"})),$.style.display="none"})),c.addEventListener("click",(()=>{document.getElementById("next-pl-msg").style.display="none"}));let x="hard",O=[],z=[],q=4,j=[4,3,2,1];let F=!1,V=[];const D=t=>{let l=O[O.length-1],o=e.length,r=Math.round(Math.random()*(o-1)),a=e[r];if("easy"===x&&o>0&&n.shoot().markShot(document.getElementById(a)),"hard"===x&&e.length>0){let r=n.addPlayer.player1Board.sunkSome;const i=l=>{let n=l,o=[];if(1==t||1==F){let e=V.sort((function(e,t){return e-t}));0==e[e.length-1].toString()[1]&&(n=n.filter((t=>t<e[e.length-1]||t>=e[e.length-1]+10))),1==e[0].toString()[1]&&(n=n.filter((t=>t>e[0]||t<=e[0]-10)))}n=n.filter((e=>e>0&&e<101));for(let t=0;e.length>t;t++)for(let l=0;n.length>l;l++)e[t]==n[l]&&o.push(n[l]);return 0===o.length?a:1===o.length?o[0]:o[Math.round(Math.random()*(o.length-1))]};if(100===o&&(n.shoot().markShot(document.getElementById(a)),O.push(a)),o<100)if(!1===t&&!1===F){let e=[];e.push(l-10*q),e.push(l-1*q),e.push(l+1*q),e.push(l+10*q);let t=i(e);n.shoot().markShot(document.getElementById(t)),O.push(t)}else if(!0===t||!0===F)if(!0===t&&(F=!0,V.push(l)),1===V.length){let e=[];e.push(V[0]-10),e.push(V[0]-1),e.push(V[0]+1),e.push(V[0]+10);let t=i(e);n.shoot().markShot(document.getElementById(t)),O.push(t)}else if(V.length>1){let e=V.length,t=V.sort((function(e,t){return e-t})),l=[],o=(()=>{let e=t[0];return t[1]-e})();l.push(V[0]-o),l.push(V[e-1]+o);let r=i(l);n.shoot().markShot(document.getElementById(r)),O.push(r)}"number"==typeof r&&(z.push(r),z.filter((e=>e==q)).length==j[q-1]&&(q-=1),F=!1,V=[])}},G=()=>{O=[],z=[],q=4,j=[4,3,2,1],F=!1,V=[]};return{turnPl:()=>{!0===a&&(!1===o.addPlayer.player2Board.hit?(i="player1",o.mode="peace",n.mode="war",o.addPlayer.player2Board.hit="",!1===d&&(setTimeout((()=>{document.getElementById("board-w-coor").style.display="grid",document.getElementById("board-w-coor2").style.display="none",$.innerHTML="Player2 SHOOT!"}),"1000"),document.getElementById("next-pl-msg").style.display="flex",M("","next-pl-msg")),!0===d&&setTimeout((()=>{D(!1)}),"300")):!1===n.addPlayer.player1Board.hit?(i="player2",n.mode="peace",o.mode="war",n.addPlayer.player1Board.hit="",l=n.addPlayer.player1Board.shots,!1===d&&(setTimeout((()=>{document.getElementById("board-w-coor").style.display="none",document.getElementById("board-w-coor2").style.display="grid",$.innerHTML="Player1 SHOOT!"}),"1000"),document.getElementById("next-pl-msg").style.display="flex",M("","next-pl-msg"))):!0===o.addPlayer.player2Board.hit?(i="player1",o.mode="war",n.mode="peace",n.addPlayer.player1Board.hit=""):!0===n.addPlayer.player1Board.hit&&!0===d&&setTimeout((()=>{D(!0)}),"300"))},removeAICoo:t=>{let l=e.length;t.forEach((t=>{for(let n=0;l>n;n++)e[n]==t&&e.splice(n,1)}))},gameOver:e=>{let t=document.getElementById("who-won"),l=!0===d&&"player1"===e?"AI<br>WINS!!!":!0!==d||"AI"!==e&&"player2"!==e?!1===d&&"player1"===e?"PLAYER2<br>WINS!!!":!1!==d||"player2"!==e&&"AI"!==e?void 0:"PLAYER1<br>WINS!!!":"YOU<br>WIN!!!";o.mode="peace",n.mode="peace",t.style.fontFamily="Silkscreen, Alkalami, serif",t.innerHTML=l,A=[],w=[],$.style.display="none"},allCoo:e}})()})(),myApp={}})();